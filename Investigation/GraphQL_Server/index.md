# GraphQL Server

: [GraphQL](https://graphql.org/)
: [HOW TO GRAPHQL](https://www.howtographql.com/)

## 1. Basics Tutorial - Introduction

#### 1-1. GraphQLの特徴

* RESTよりも効率的で強力かつ柔軟なAPIを提供する**新しいAPI規格**
* **Facebookによって開発、オープンソース化**
* クライアントがAPIから必要とするデータを正確に指定する事ができる
  + 宣言的なデータ取得
* GraphQLサーバは、**単一のエンドポイントのみ**を公開し、クライアントが要求したデータで正確に応答する

#### 1-2. APIのためのクエリ言語

GraphQLはデータベース技術であると混同されるが、誤解である。
**GraphQLはAPIのためのクエリ言語**。

#### 1-3. REST APIから代替が必要とされた背景

RESTのコンセプトが開発された当時は、アプリケーションが比較的シンプルで開発ペースも今日のように速くなかった。そのためRESTの設計は多くのアプリケーションとマッチしていた。
しかし、APIの状況がここ数年で急激に変化している。以下に、変化していった点を3点挙げる。

1. モバイル利用の増加による効率的なデータロードの必要性
FacebookがGraphQLを開発した最初の理由がこれに当たる。

2. 多種多様なフロントエンドフレームワークとプラットフォーム
現在では、アプリケーションを実行するフロンドエンドフレームワークやプラットフォームが異種混在しているため、**RESTではその全ての要件に適合する1つのAPIを構築して維持することが困難**。

3. 迅速な開発 & 迅速な機能開発への期待
現在は多くの企業で継続的なデプロイが標準となり、**迅速なイテレーションと頻繁な製品のアップデートが欠かせなくなっている**。
REST APIでは、クライアント側の特定の要件や設計変更に合わせてサーバがデータを公開する方法を変更する必要があることがよくある。このため、**迅速な開発作業と製品の反復が妨げられる**。

これらの問題を**GraphQLは解決できる**。

#### 1-4. 急成長するコミュニティ

GraphQLはクライアントがAPIと通信するところならどこでも使える技術である。APIとのやりとりをより効率的にするための手段をあらゆる企業が模索していた。(RESTでは解決できなかった。)
GraphQLがオープンソース化した後、名だたる様々な企業で実運用に使われている。

## 2. GraphQL is the better REST

**GraphQLは、より優れたRESTである**

RESTは、過去10年間でWeb APIを設計するための標準となったが、アクセスするクライアントの急速に変化する要件に対応するには**柔軟性に欠ける**ことが分かっている。

GraphQLは、より柔軟で効率的なニーズに対応するために開発された。**REST APIを使用する際に開発者が経験する多くの欠点や非効率性を解決した**。

### 2-1. Data Fetching with REST vs GraphQL

* APIからデータを取得する際のRESTとGraphQLの大きな違いを、簡単なシナリオ例から理解する
  + ブログのアプリケーション
  + 特定のユーザの投稿のタイトルを表示する必要がある
  + 同じ画面に特定のユーザ + 直近の3人のフォロワーの名前も表示される

#### 2-2. REST APIの場合

REST APIでは、複数のエンドポイントにアクセスすることでデータを収集する。(以下のエンドポイントは一例)

1. 特定のユーザのデータを取得する
エンドポイント: `/users/<id>`

2. 特定のユーザのタイトルを取得するために全ての投稿データを取得する
エンドポイント: `/users/<id>/posts`
