# メルカリ作のプログラミング言語Go完全入門 読破
# 7. エラー処理
## 7-1. エラー処理
#### 7-1-1. 正常系と異常系
- 正常系
  - エラーが起こらず動作した場合のこと
  - ユーザが意図通り(期待通り)に使った場合の挙動(

- 異常系
  - 意図しない挙動
  - ユーザが意図通り(期待通り)に使わなかった場合の挙動
  - 外部要因による意図しないエラー
    - ネットワーク、ファイル、ライブラリなどのバグ
  - バグが起因のエラー

#### 7-1-2. エラー処理の必要性
- エラーは必ず起きる
  - 外部要因で起きる可能性がある
    - 意図通りに動作したとしても
  - 正常系より異常系の方が難しいし、パターンが多いことがある

- エラー処理
  - 致命的なエラーじゃなければ処理を続けられる場合もある
  - リトライをかけたり、別の方法を取ることもできる
  - エラーに対して適切な処理を行い、出来る限り処理が続けられるようにする

**エラーハンドリングの重要性**

#### 7-1-3. エラー
errorインタフェース
- エラーを表す型
- 最後の戻り値として返すことが多い
```go:
type error interface {
  Error() string
}
```

#### 7-1-4. エラー処理
**nilと比較してエラーが発生したかをチェックする**
```go:
if err := f(); err != nil {
  // エラー処理
}
```

#### 7-1-5. エラー処理のよくあるミス
err変数を使い回すことによるハンドル(エラー処理)ミス
```go:
/* 1. */
f, err := os.Open("file.txt")
if err != nil {
	// エラー処理
}

/* 2. */
// 本来は err = doSomething(f) としたつもり
doSomething(f)
if err != nil {
	// エラー処理
}
```
スコープの違いから起こるエラーだと思われる。
エラーが発生してもハンドルされずに次に進んでしまう。
[errcheck](https://github.com/kisielk/errcheck)などの静的解析ツールで回避できる。
errcheck-> goのプログラムでチェックされていないエラーをチェックするためのプログラム

#### 7-1-6. 
