# メルカリ作のプログラミング言語Go完全入門 読破
# 13. リフレクション
## 13-1. リフレクションとは
#### 13-1-1. Goにおけるリフレクションとは
[参考](https://qiita.com/s9i/items/b835634d84bba5574d0a#%E3%83%AA%E3%83%95%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A8%E3%81%AF):
> プログラム実行時に、動的にプログラムの構造を読み取ったり置き換えたりする手法のこと

- reflectパッケージを用いる
実行時に値や型の情報を取得できる
取得した情報を元に関数を実行したり、値を生成できる

- 利点: 実行時にならないと分からない情報を取得できる
  - インタフェース型の変数に入っている実際の値の型
    - ダイナミックタイプ
  - 型によらない汎用的な関数やメソッド作れる

#### 13-1-2. ジェネリクスとリフレクション
ジェネリクスはGo1.18で登場。Go1.17まではなかった。
ジェネリクスはリフレクションで行っていたようなことを(一部)コンパイル時にできるようにしてくれる。

調べてみると、リフレクションはあまり良くない？
可読性の低下、パフォーマンスが悪いなど。
リフレクションでしか実現できないこともあるが、使用を減らしたい。
ジェネリクスを使うことでリフレクションの使用を減らすことができる。

#### 13-1-3. 構造体タグの取得
実行時には**リフレクション**でしか取得できない
(goパッケージを使った静的解析でも取得はできる)
構造体タグの目的はフィールドへの情報付加(=視認的向上?)

```go:
type Person struct {
	Name string `json:"name"`
	Age  int    `json:"age"`
}
```

