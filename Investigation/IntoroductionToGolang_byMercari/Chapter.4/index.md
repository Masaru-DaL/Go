# メルカリ作のプログラミング言語Go完全入門 読破
# 4. パッケージ
## 4-1. パッケージ
#### 4-1-1. Goのプログラムの構成要素
- パッケージ
  - 関数, 変数, 定数, 型をある単位でまとめたもの
  - **Goのプログラムはパッケージを組み合わせる事で実現される**

- 型
  - データの種類を表したもの

- 関数
  - 処理を意味のある単位でまとめたもの
  - パッケージに属さない組み込み関数も存在する
    - (printlnなど) -> importする必要がない

- 変数
  - 処理中に使用するデータを格納したもの

- 定数(名前付き定数)
  - コンパイル時から変わらない値に名前を付けたもの
  - Pi = 3.14 のようなもの

#### 4-1-2. Goのプログラムの構成とパッケージ
矢印の向きがいまいち理解しにくい感じがする。

[こっち](https://osamu-tech-blog.com/wp-content/uploads/2022/02/go_import.png)の方が分かりやすい感じがする。(多分言ってることは同じ)

#### 4-1-2. 複数のファイル
[複数ファイルの使用 image](https://yttm-work.jp/img/go/go_0001.png)
- 同じディレクトリ内でパッケージが混在するのはNG
- インポート文はファイルごとに記述する
- どういう分け方をしても良い(型の定義、メソッドの定義が別れても良い)

#### 4-1-3. パッケージのインポート
**import自体を"IDE"や"goimports"などのツールに任せる**のが推奨されている。(いちいち自分で打たなくて良いということか)

```go:
import (
        /* サードパーティ製と分けるために改行を挟むことが多い */
       "context"
       "fmt"

       "github.com/tenntenn/greeting"
)
```
`"github.com/tenntenn/greeting"`に変数、関数などが用意されていればこれを利用することもできる。

#### 4-1-4. パッケージ名のエイリアス
- パッケージ名に別名を付ける
  - 同じパッケージ名のパッケージを使いたい場合に使う
  - インポートパスとパッケージ名が一致していない場合に用いる
```go:
import (
  "sync"

  mysync "github.com/tenntenn/sync" // 上のsyncパッケージと名前が衝突している
  greeting "github.com/tenntenn/greeting/v2" // バージョンを指定していてインポートパスとパッケージ名が一致していない
)
func main() {
	fmt.Println(greeting.Do())
	// ...
}
```

#### 4-1-5. パッケージ外へのエクスポート
[参考](https://kazuhira-r.hatenablog.com/entry/2021/01/17/012840)
呼び出されるパッケージとして定義する際には**先頭を大文字にした識別子**を定義しておかないと、他のパッケージから利用できないという意味かと思います。

- ライブラリ
  - "fmt"とかのこと
  - main関数のないGoのプログラム
  - エクスポートされているため、使用できる


