# メルカリ作のプログラミング言語Go完全入門 読破
# 2. 基本構文
## 2-1. 変数
#### 2-1-1. 変数
- 値を保持する領域
- 一時的に保存な保存処理

#### 2-1-2. 変数と型
- 型とは
  - どういう種類の値かを表すもの
    - 整数、文字列など
    - 自分で作ることも可能(ユーザ定義型)

- 動的型付け言語
  - 変数に型がない -> なんでも代入できる
  - **プログラム実行時**に型を検証する

- 静的型付け言語
  - **Goは静的型付け言語**
  - 変数に型があり、型が違うと代入できない
  - **コンパイル時**に型を検証する

#### 2-1-3. 静的型付けの利点
1. 実行前に型の不一致を検出できる
2. 曖昧なものはエラーになる
   - 暗黙の型変換がない
     - 例: `1 + "2" -> "12"`
3. 型推論がある
   - 明示的に型を書く必要がない場合が多い

#### 2-1-4. 変数宣言
予約語`var`(variableの略)を用いる
予約語: 識別子(名前)に使用できない語(if, forなども同じ)

```go:
/* 変数宣言と代入を同時に行う */
var n int = 100

/* 変数宣言と代入を別で行う */
var n int
n = 100

/* 型を省略(int型になる->型推論) */
var n = 100

/* varを使わず変数宣言を行う
   関数内でのみしか出来ない！*/
n := 100

/* まとめて変数宣言を行う */
var (
  n = 100
  m = 200
)
```

#### 2-1-5. 使っていない変数
変数を宣言した場合、その変数が使われていないとコンパイル時にエラーが出る。
```go:
package main

func main() {
    x := 100
    println(x)

    y := 200   // 使ってないのでコンパイルエラー
    println(x) // println(y)の間違い
}
```

#### 2-1-6. 組み込み型
https://docs.google.com/presentation/d/1CIMDenDLZ7NPNgzmfbCNH_W3dYjaTEBdUYfUuXXuMHk/edit#slide=id.g4e29972148_0_32

#### 2-1-7. 変数のゼロ値
- Goの変数は**明示的な初期化をしなくても使える**
  - **ゼロ値という値が設定され、型によって違う**

| 型                | ゼロ値   |
| ---------------- | ----- |
| intやfloat64などの数値 | 0     |
| string           | ""    |
| bool             | false |
| errorなどのインタフェース  | nil      |

#### 2-1-8. 変数の利用
```go:
package main

import "fmt"

func main() {
	var first_word string = "Hello, World"
	fmt.Println(first_word)
}

/* 実行結果 */
// Hello, World
```

## 2-2. 定数
#### 2-2-1. 定数
`const`の説明とは別？
数値や文字列のリテラルそのものを言ってるのかな。

#### 2-2-2. 2進数, 8進数, 16進数表記
ちょっと分からなかったので別で調べる
```go:
package main

import "fmt"

func main() {
    s := ""
    s = fmt.Sprintf("%b", 255)
    fmt.Println(s) // => "11111111"
    s = fmt.Sprintf("%o", 255)
    fmt.Println(s) // => "11111111"
    s = fmt.Sprintf("%x", 255)
    fmt.Println(s) // => "ff"
}
```
こっちの方が分かりやすい感じがあった。

#### 2-2-3. 数字の区切り
- 数値リテラルに`_`を入れても無視される
- 数値リテラルの可読性を上げるために導入された
  - `,`みたいなものか

`5_000_000_000_000_000`
`0b_1010_0110`
`3.1415_9265`
出力される時は`_`が取り除かれた状態で出力。
例: 5000000000000000

#### 2-2-4. 定数式
定数のみからなる演算式
コンパイル時に計算される

- シフト演算
  - `x << n`
  - xのn bit左シフト
1 << 2 -> 100(2進数) -> 4(10進数)

- 関係演算 / 論理演算
  - `!` not演算子
  - !(10 == 20) -> 10と20は等しくない事を否定 -> true

#### 2-2-5. 名前付き定数
- 定数に名前を付けて宣言
  - `const`
  - 変数宣言と同じように定数にも名前が付けられる

```go:
/* 型のある定数 */
const n int = 100

/* 型のない定数 */
const m = 100

/* 定数式の利用 */
const s = "Hello, " + "World"

/* 複数の定数宣言をまとめる */
const (
  x = 100
  y = 200
)

/* 型のない定数の型を確認 */
fmt.Printf("%T", m)
// int
```
型のない定数は型推論されると思われる。
(事項で説明されてた。デフォルトの型として推論される。)
大体変数と同じ。

#### 2-2-6. 定数の型
変数と同じ

#### 2-2-7. 定数のデフォルトの型
```go:
package main

func main() {
	// 定数は型を持たないので無限の精度になる
	const n = 10000000000000000000 / 10000000000000000000
	var m = n  // mはint型
	println(m) // 1
}
```
`const n`が1でint型なので、それを代入した`m`もint型になる。
※型変換できない場合はコンパイルエラーになる。

